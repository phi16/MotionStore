<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Core.World</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Core-World.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Core.World</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">World Monad</a></li><li><a href="#g:2">&#12473;&#12524;&#12483;&#12489;&#31995;</a></li><li><a href="#g:3">&#30456;&#20114;&#21442;&#29031;&#12473;&#12524;&#12483;&#12489;</a></li><li><a href="#g:4">&#36820;&#20107;&#24453;&#12385;&#12473;&#12524;&#12483;&#12489;</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>&#26368;&#12418;&#37325;&#35201;&#12394;<code><a href="Core-World.html#t:World">World</a></code>&#12514;&#12490;&#12489;&#12398;&#23450;&#32681;&#12420;&#25805;&#20316;&#38306;&#25968;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12391;&#12377;&#12290;
     &#22810;&#20998;&#12371;&#12428;&#12418;&#24120;&#12395;import&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; </p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:World">World</a> a</li><li class="src short"><a href="#v:liftW">liftW</a> &#8759; <a href="Haste-Concurrent.html#t:CIO">CIO</a> a &#8594; <a href="Core-World.html#t:World">World</a> a</li><li class="src short"><a href="#v:runWorld">runWorld</a> &#8759; <a href="Core-World.html#t:World">World</a> a &#8594; <a href="Haste-Concurrent.html#t:CIO">CIO</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Handler">Handler</a> a = <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> a &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:Emitter">Emitter</a> = <a href="Core-World.html#t:Handler">Handler</a> Void</li><li class="src short"><a href="#v:emitting">emitting</a> &#8759; <a href="Core-World.html#t:World">World</a> () &#8594; <a href="Core-World.html#t:Emitter">Emitter</a></li><li class="src short"><a href="#v:sleep">sleep</a> &#8759; Int &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:handle">handle</a> &#8759; <a href="Haste-Events.html#t:Event">Event</a> evt &#8658; evt &#8594; (<a href="Haste-Events.html#t:EventData">EventData</a> evt &#8594; t) &#8594; <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> t &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:switch">switch</a> &#8759; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:waitUntil">waitUntil</a> &#8759; (<a href="Core-World.html#t:World">World</a> () &#8594; <a href="Core-World.html#t:World">World</a> ()) &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:distribute">distribute</a> &#8759; <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> (Either a b) &#8594; (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a, <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> b) &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:division">division</a> &#8759; <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> a &#8594; (a &#8594; Bool) &#8594; (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a, <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a) &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:consume">consume</a> &#8759; <a href="Core-World.html#t:Handler">Handler</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Hole">Hole</a> a</li><li class="src short"><a href="#v:hole">hole</a> &#8759; <a href="Core-World.html#t:World">World</a> (<a href="Core-World.html#t:Hole">Hole</a> a)</li><li class="src short"><a href="#v:obtain">obtain</a> &#8759; <a href="Core-World.html#t:Hole">Hole</a> a &#8594; <a href="Core-World.html#t:World">World</a> (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a)</li><li class="src short"><a href="#v:incarnate">incarnate</a> &#8759; <a href="Core-World.html#t:Hole">Hole</a> a &#8594; <a href="Core-World.html#t:Handler">Handler</a> a &#8594; <a href="Core-World.html#t:World">World</a> (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Mail">Mail</a> a b</li><li class="src short"><a href="#v:interpret">interpret</a> &#8759; <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> (<a href="Core-World.html#t:Mail">Mail</a> a b) &#8594; (a &#8594; <a href="Core-World.html#t:World">World</a> b) &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:-33--33-">(!!)</a> &#8759; <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> (<a href="Core-World.html#t:Mail">Mail</a> a ()) &#8594; a &#8594; <a href="Core-World.html#t:World">World</a> () &#8594; <a href="Core-World.html#t:World">World</a> ()</li><li class="src short"><a href="#v:-33--63-">(!?)</a> &#8759; <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> (<a href="Core-World.html#t:Mail">Mail</a> a b) &#8594; a &#8594; <a href="Core-World.html#t:World">World</a> b</li><li class="src short"><a href="#v:oneway">oneway</a> &#8759; a &#8594; <a href="Core-World.html#t:Mail">Mail</a> a b</li></ul></div><div id="interface"><h1 id="g:1">World Monad</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:World" class="def">World</a> a <a href="#t:World" class="selflink">#</a></p><div class="doc"><p>IO, Event Handling, Concurrent Execution, First Class Continuation&#12394;&#12393;&#12289;
 &#12394;&#12435;&#12391;&#12418;&#12354;&#12426;&#12398;&#12514;&#12490;&#12489;&#12391;&#12377;&#12290;&#22522;&#26412;&#30340;&#12395;&#12399;&#12371;&#12428;&#12434;&#12505;&#12540;&#12473;&#12395;&#29992;&#12356;&#12414;&#12377;&#12290;</p></div><div class="subs instances"><p id="control.i:World" class="caption collapser" onclick="toggleSection('i:World')">Instances</p><div id="section.i:World" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:World:Monad:1" class="instance expander" onclick="toggleSection('i:id:World:Monad:1')"></span> Monad <a href="Core-World.html#t:World">World</a></span> <a href="#t:World" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:World:Monad:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> &#8759; <a href="Core-World.html#t:World">World</a> a &#8594; (a &#8594; <a href="Core-World.html#t:World">World</a> b) &#8594; <a href="Core-World.html#t:World">World</a> b</p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> &#8759; <a href="Core-World.html#t:World">World</a> a &#8594; <a href="Core-World.html#t:World">World</a> b &#8594; <a href="Core-World.html#t:World">World</a> b</p><p class="src"><a href="#v:return">return</a> &#8759; a &#8594; <a href="Core-World.html#t:World">World</a> a</p><p class="src"><a href="#v:fail">fail</a> &#8759; String &#8594; <a href="Core-World.html#t:World">World</a> a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:World:Functor:2" class="instance expander" onclick="toggleSection('i:id:World:Functor:2')"></span> Functor <a href="Core-World.html#t:World">World</a></span> <a href="#t:World" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:World:Functor:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Core-World.html#t:World">World</a> a &#8594; <a href="Core-World.html#t:World">World</a> b</p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Core-World.html#t:World">World</a> b &#8594; <a href="Core-World.html#t:World">World</a> a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:World:Applicative:3" class="instance expander" onclick="toggleSection('i:id:World:Applicative:3')"></span> Applicative <a href="Core-World.html#t:World">World</a></span> <a href="#t:World" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:World:Applicative:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> &#8759; a &#8594; <a href="Core-World.html#t:World">World</a> a</p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> &#8759; <a href="Core-World.html#t:World">World</a> (a &#8594; b) &#8594; <a href="Core-World.html#t:World">World</a> a &#8594; <a href="Core-World.html#t:World">World</a> b</p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> &#8759; <a href="Core-World.html#t:World">World</a> a &#8594; <a href="Core-World.html#t:World">World</a> b &#8594; <a href="Core-World.html#t:World">World</a> b</p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> &#8759; <a href="Core-World.html#t:World">World</a> a &#8594; <a href="Core-World.html#t:World">World</a> b &#8594; <a href="Core-World.html#t:World">World</a> a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:World:MonadIO:4" class="instance expander" onclick="toggleSection('i:id:World:MonadIO:4')"></span> MonadIO <a href="Core-World.html#t:World">World</a></span> <a href="#t:World" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:World:MonadIO:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> &#8759; IO a &#8594; <a href="Core-World.html#t:World">World</a> a <a href="#v:liftIO" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:World:MonadEvent:5" class="instance expander" onclick="toggleSection('i:id:World:MonadEvent:5')"></span> <a href="Haste-Events.html#t:MonadEvent">MonadEvent</a> <a href="Core-World.html#t:World">World</a></span> <a href="#t:World" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:World:MonadEvent:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkHandler">mkHandler</a> &#8759; (a &#8594; <a href="Core-World.html#t:World">World</a> ()) &#8594; <a href="Core-World.html#t:World">World</a> (a &#8594; IO ()) <a href="#v:mkHandler" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:World:MonadConc:6" class="instance expander" onclick="toggleSection('i:id:World:MonadConc:6')"></span> <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> <a href="Core-World.html#t:World">World</a></span> <a href="#t:World" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:World:MonadConc:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftConc">liftConc</a> &#8759; <a href="Haste-Concurrent.html#t:CIO">CIO</a> a &#8594; <a href="Core-World.html#t:World">World</a> a <a href="#v:liftConc" class="selflink">#</a></p><p class="src"><a href="#v:fork">fork</a> &#8759; <a href="Core-World.html#t:World">World</a> () &#8594; <a href="Core-World.html#t:World">World</a> () <a href="#v:fork" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:World:MonadCont:7" class="instance expander" onclick="toggleSection('i:id:World:MonadCont:7')"></span> MonadCont <a href="Core-World.html#t:World">World</a></span> <a href="#t:World" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:World:MonadCont:7" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:callCC">callCC</a> &#8759; ((a &#8594; <a href="Core-World.html#t:World">World</a> b) &#8594; <a href="Core-World.html#t:World">World</a> a) &#8594; <a href="Core-World.html#t:World">World</a> a</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:liftW" class="def">liftW</a> &#8759; <a href="Haste-Concurrent.html#t:CIO">CIO</a> a &#8594; <a href="Core-World.html#t:World">World</a> a <a href="#v:liftW" class="selflink">#</a></p><div class="doc"><p><code><a href="Haste-Concurrent.html#v:readMVar">readMVar</a></code>&#12394;&#12393;&#12398;<code><a href="Haste-Concurrent.html#t:CIO">CIO</a></code> Action&#12434;<code><a href="Core-World.html#t:World">World</a></code>&#12395;&#25345;&#12385;&#19978;&#12370;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:runWorld" class="def">runWorld</a> &#8759; <a href="Core-World.html#t:World">World</a> a &#8594; <a href="Haste-Concurrent.html#t:CIO">CIO</a> a <a href="#v:runWorld" class="selflink">#</a></p><div class="doc"><p>&#22823;&#20307;&#12399;<code><a href="Haste-Concurrent.html#v:concurrent">concurrent</a></code>&#12392;&#19968;&#32210;&#12395;&#20351;&#12358;&#12392;&#12362;&#12418;&#12356;&#12414;&#12377;&#12290;</p></div></div><h1 id="g:2">&#12473;&#12524;&#12483;&#12489;&#31995;</h1><div class="doc"><p>&#22522;&#26412;&#30340;&#12395;&#12399;&#12473;&#12524;&#12483;&#12489;&#12399;&#12356;&#12367;&#12425;&#12391;&#12418;&#31435;&#12390;&#12390;&#33391;&#12356;&#12391;&#12377;&#12290;</p><p>&#12473;&#12524;&#12483;&#12489;&#38291;&#36890;&#20449;&#12398;&#28858;&#12395;<code><a href="Core-Util.html#v:Inbox">Inbox</a></code> / <code><a href="Core-Util.html#v:Outbox">Outbox</a></code>&#12392;&#12356;&#12358;&#12418;&#12398;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;</p><p><code><a href="Core-Util.html#v:spawn">spawn</a></code>&#38306;&#25968;&#12391;&#36215;&#21205;&#12289;<code><a href="Core-Util.html#v:-33-">!</a></code> &#38306;&#25968;&#12391;&#36890;&#20449;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;</p><p>&#35443;&#12375;&#12367;&#12399;<a href="Core-Util.html">Core.Util</a>&#12398;<a href="Haste-Concurrent.html">Haste.Concurrent</a>&#12434;&#21442;&#29031;&#12290;</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Handler" class="def">Handler</a> a = <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> a &#8594; <a href="Core-World.html#t:World">World</a> () <a href="#t:Handler" class="selflink">#</a></p><div class="doc"><p><code><a href="Haste-Concurrent.html#v:spawn">spawn</a></code>&#38306;&#25968;&#12395;&#28193;&#12377;&#38306;&#25968;&#12398;&#22411;&#12391;&#12377;&#12290;<code><a href="Haste-Concurrent.html#t:Inbox">Inbox</a></code>&#12363;&#12425;&#20516;&#12434;<code><a href="Haste-Concurrent.html#v:receive">receive</a></code>&#38306;&#25968;&#12391;&#21463;&#12369;&#21462;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;</p><pre>thread &lt;- spawn $ box -&gt; do
  x &lt;- receive box
  io $ print x
thread ! 5
</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Emitter" class="def">Emitter</a> = <a href="Core-World.html#t:Handler">Handler</a> Void <a href="#t:Emitter" class="selflink">#</a></p><div class="doc"><p>&#20309;&#12418;&#21463;&#20449;&#12375;&#12394;&#12356;&#12473;&#12524;&#12483;&#12489;&#12391;&#12377;&#12290;&#22823;&#20307;&#12399;<code><a href="Haste-Concurrent.html#v:fork">fork</a></code>&#12391;&#28168;&#12416;&#12398;&#12391;&#12354;&#12414;&#12426;&#20351;&#12431;&#12394;&#12356;&#12391;&#12377;&#12290;</p><pre>void . spawn . emitting &#8801; fork</pre></div></div><div class="top"><p class="src"><a id="v:emitting" class="def">emitting</a> &#8759; <a href="Core-World.html#t:World">World</a> () &#8594; <a href="Core-World.html#t:Emitter">Emitter</a> <a href="#v:emitting" class="selflink">#</a></p><div class="doc"><p><code><a href="Core-World.html#t:Emitter">Emitter</a></code>&#12434;&#20316;&#12427;&#12392;&#12365;&#12399;&#12371;&#12428;&#12391;&#26126;&#31034;&#12377;&#12427;&#12392;&#33391;&#12356;&#12392;&#12362;&#12418;&#12356;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:sleep" class="def">sleep</a> &#8759; Int &#8594; <a href="Core-World.html#t:World">World</a> () <a href="#v:sleep" class="selflink">#</a></p><div class="doc"><p>&#19982;&#12360;&#12425;&#12428;&#12383;&#12501;&#12524;&#12540;&#12512;&#25968;&#24453;&#12385;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:handle" class="def">handle</a> <a href="#v:handle" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="Haste-Events.html#t:Event">Event</a> evt</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; evt</td><td class="doc"><p>&#21462;&#24471;&#12377;&#12427;&#12452;&#12505;&#12531;&#12488;(<code><a href="Haste-Events.html#v:MouseDown">MouseDown</a></code>&#12394;&#12393;)</p></td></tr><tr><td class="src">&#8594; (<a href="Haste-Events.html#t:EventData">EventData</a> evt &#8594; t)</td><td class="doc"><p>&#12452;&#12505;&#12531;&#12488;&#12487;&#12540;&#12479;&#12398;&#21463;&#12369;&#21462;&#12426;&#26041;</p></td></tr><tr><td class="src">&#8594; <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> t</td><td class="doc"><p>&#12452;&#12505;&#12531;&#12488;&#36865;&#20449;&#20808;</p></td></tr><tr><td class="src">&#8594; <a href="Core-World.html#t:World">World</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><a href="Haste-Events.html">Haste.Events</a>&#12395;&#24467;&#12387;&#12390;&#12452;&#12505;&#12531;&#12488;&#12434;&#21463;&#20449;&#12377;&#12427;&#12424;&#12358;&#12395;&#12375;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:switch" class="def">switch</a> &#8759; <a href="Core-World.html#t:World">World</a> () <a href="#v:switch" class="selflink">#</a></p><div class="doc"><p>&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12473;&#12452;&#12483;&#12481;&#12375;&#12414;&#12377;&#12290;&#12394;&#12435;&#12363;&#28961;&#38480;&#12523;&#12540;&#12503;&#12364;&#36215;&#12365;&#12383;&#12425;&#12371;&#12428;&#12434;&#12356;&#12428;&#12424;&#12358;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:waitUntil" class="def">waitUntil</a> <a href="#v:waitUntil" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="Core-World.html#t:World">World</a> () &#8594; <a href="Core-World.html#t:World">World</a> ())</td><td class="doc"><p>&#24341;&#25968;&#12364;<code>exit</code>&#38306;&#25968;&#12391;&#12377;&#12290;</p></td></tr><tr><td class="src">&#8594; <a href="Core-World.html#t:World">World</a> ()</td><td class="doc"><p>&#12381;&#12398;&#12358;&#12385;&#25147;&#12387;&#12390;&#12365;&#12414;&#12377;&#12290;</p></td></tr></table></div><div class="doc"><p><code>exit</code>&#38306;&#25968;&#12364;&#21628;&#12400;&#12428;&#12427;&#12414;&#12391;&#12381;&#12371;&#12391;&#24453;&#12385;&#12414;&#12377;&#12290;<code><a href="Core-World.html#v:-33--33-">!!</a></code>&#12392;&#12363;<code><a href="Core-Ease.html#v:easeHandle">easeHandle</a></code>&#12392;&#20849;&#12395;&#20351;&#12358;&#12371;&#12392;&#12434;&#24819;&#23450;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:distribute" class="def">distribute</a> &#8759; <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> (Either a b) &#8594; (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a, <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> b) &#8594; <a href="Core-World.html#t:World">World</a> () <a href="#v:distribute" class="selflink">#</a></p><div class="doc"><p><code><a href="Haste-Concurrent.html#t:Inbox">Inbox</a></code>&#12434;<code>Either</code>&#12395;&#24467;&#12387;&#12390;&#20998;&#37197;&#12375;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:division" class="def">division</a> &#8759; <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> a &#8594; (a &#8594; Bool) &#8594; (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a, <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a) &#8594; <a href="Core-World.html#t:World">World</a> () <a href="#v:division" class="selflink">#</a></p><div class="doc"><p><code><a href="Haste-Concurrent.html#t:Inbox">Inbox</a></code>&#12434;&#26465;&#20214;&#12395;&#24467;&#12387;&#12390;&#20998;&#37197;&#12375;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:consume" class="def">consume</a> &#8759; <a href="Core-World.html#t:Handler">Handler</a> a <a href="#v:consume" class="selflink">#</a></p><div class="doc"><p>&#20309;&#12418;&#12375;&#12394;&#12356;&#12479;&#12452;&#12503;&#12398;<code><a href="Core-World.html#t:Handler">Handler</a></code>&#12391;&#12377;&#12290;&#29305;&#12395;&#12377;&#12427;&#12371;&#12392;&#12394;&#12356;&#12392;&#12365;&#12399;&#12371;&#12428;&#12434;&#20351;&#12362;&#12358;&#12290;</p></div></div><h1 id="g:3">&#30456;&#20114;&#21442;&#29031;&#12473;&#12524;&#12483;&#12489;</h1><div class="doc"><p>2&#12388;&#12398;&#12473;&#12524;&#12483;&#12489;&#12391;&#30456;&#20114;&#12395;&#12513;&#12483;&#12475;&#12540;&#12472;&#12434;&#36865;&#12426;&#12383;&#12356;&#20107;&#12364;&#12354;&#12427;&#12392;&#24605;&#12356;&#12414;&#12377;&#12290;
 &#12391;&#12377;&#12364;&#38918;&#30058;&#12395;<code><a href="Core-Util.html#v:spawn">spawn</a></code>&#12377;&#12427;&#12383;&#12417;<code><a href="Core-Util.html#v:Outbox">Outbox</a></code>&#12434;&#29255;&#26041;&#12375;&#12363;&#24471;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290;</p><p>&#19968;&#24230;<code><a href="Core-World.html#v:hole">hole</a></code>&#12434;&#20316;&#12426;&#12289;1&#12388;&#30446;&#12398;&#12473;&#12524;&#12483;&#12489;&#12391;<code><a href="Core-World.html#v:obtain">obtain</a></code>&#12377;&#12427;&#12371;&#12392;&#12391;&#12300;&#24460;&#12391;&#24471;&#12383;<code><a href="Core-Util.html#v:Outbox">Outbox</a></code>&#12301;&#12434;&#25342;&#12387;&#12390;&#12367;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;</p><p><code><a href="Core-Util.html#v:spawn">spawn</a></code>&#12398;&#20195;&#12431;&#12426;&#12395;<code><a href="Core-World.html#v:incarnate">incarnate</a></code>&#12377;&#12427;&#12371;&#12392;&#12391;<code><a href="Core-World.html#v:hole">hole</a></code>&#12395;<code><a href="Core-Util.html#v:Outbox">Outbox</a></code>&#12398;&#23455;&#20307;&#12434;&#20837;&#12428;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;</p><pre>do
  a' &lt;- hole
  b &lt;- spawn $ box -&gt; do
    a &lt;- obtain a'
    forever $ do
      x &lt;- receive box
      a ! x
  incarnate a $ box -&gt; do
    forever $ do
      x &lt;- receive box
      b ! (x+1)
  b ! 0
</pre></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Hole" class="def">Hole</a> a <a href="#t:Hole" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hole" class="def">hole</a> &#8759; <a href="Core-World.html#t:World">World</a> (<a href="Core-World.html#t:Hole">Hole</a> a) <a href="#v:hole" class="selflink">#</a></p><div class="doc"><p>&#24460;&#12391;<code><a href="Haste-Concurrent.html#t:Outbox">Outbox</a></code>&#12434;&#20837;&#12428;&#12427;&#12383;&#12417;&#12398;&#31348;&#12434;&#27083;&#25104;&#12375;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:obtain" class="def">obtain</a> &#8759; <a href="Core-World.html#t:Hole">Hole</a> a &#8594; <a href="Core-World.html#t:World">World</a> (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a) <a href="#v:obtain" class="selflink">#</a></p><div class="doc"><p>&#31348;&#12363;&#12425;<code><a href="Haste-Concurrent.html#t:Outbox">Outbox</a></code>&#12434;&#21462;&#12426;&#20986;&#12375;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:incarnate" class="def">incarnate</a> &#8759; <a href="Core-World.html#t:Hole">Hole</a> a &#8594; <a href="Core-World.html#t:Handler">Handler</a> a &#8594; <a href="Core-World.html#t:World">World</a> (<a href="Haste-Concurrent.html#t:Outbox">Outbox</a> a) <a href="#v:incarnate" class="selflink">#</a></p><div class="doc"><p>&#31348;&#12395;<code><a href="Haste-Concurrent.html#t:Outbox">Outbox</a></code>&#12434;&#35440;&#12417;&#12414;&#12377;&#12290;</p></div></div><h1 id="g:4">&#36820;&#20107;&#24453;&#12385;&#12473;&#12524;&#12483;&#12489;</h1><div class="doc"><p>&#12431;&#12374;&#12431;&#12374;<code><a href="Core-World.html#v:hole">hole</a></code>&#12377;&#12427;&#12398;&#12418;&#12417;&#12435;&#12393;&#12367;&#12373;&#12356;&#12392;&#24605;&#12387;&#12383;&#12398;&#12391;&#20316;&#12426;&#12414;&#12375;&#12383;&#12290;</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Mail" class="def">Mail</a> a b <a href="#t:Mail" class="selflink">#</a></p><div class="doc"><p>&#22522;&#26412;&#30340;&#12395;&#12399;&#12300;&#12513;&#12483;&#12475;&#12540;&#12472;<code>a</code>&#12398;&#36820;&#20107;<code>b</code>&#12434;&#36016;&#12358;&#12301;&#22411;&#12391;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:interpret" class="def">interpret</a> &#8759; <a href="Haste-Concurrent.html#t:Inbox">Inbox</a> (<a href="Core-World.html#t:Mail">Mail</a> a b) &#8594; (a &#8594; <a href="Core-World.html#t:World">World</a> b) &#8594; <a href="Core-World.html#t:World">World</a> () <a href="#v:interpret" class="selflink">#</a></p><div class="doc"><p><code><a href="Haste-Concurrent.html#v:receive">receive</a></code>&#12398;&#20195;&#12431;&#12426;&#12395;<code><a href="Core-World.html#v:interpret">interpret</a></code>&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#36820;&#20107;&#12434;&#36820;&#12377;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;(&#24375;&#21046;)</p><pre>do
  double &lt;- spawn $ box -&gt; forever $ do
    interpret box $ x -&gt; do
      return $ 2*x
  y &lt;- double !? 5
  io $ print y
</pre></div></div><div class="top"><p class="src"><a id="v:-33--33-" class="def">(!!)</a> &#8759; <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> (<a href="Core-World.html#t:Mail">Mail</a> a ()) &#8594; a &#8594; <a href="Core-World.html#t:World">World</a> () &#8594; <a href="Core-World.html#t:World">World</a> () <a href="#v:-33--33-" class="selflink">#</a></p><div class="doc"><p>&#36820;&#20107;&#12364;&#26469;&#12383;&#12425;&#19982;&#12360;&#12383;Action&#12434;&#23455;&#34892;&#12375;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:-33--63-" class="def">(!?)</a> &#8759; <a href="Haste-Concurrent.html#t:Outbox">Outbox</a> (<a href="Core-World.html#t:Mail">Mail</a> a b) &#8594; a &#8594; <a href="Core-World.html#t:World">World</a> b <a href="#v:-33--63-" class="selflink">#</a></p><div class="doc"><p>&#36820;&#20107;&#12364;&#26469;&#12427;&#12414;&#12391;&#12381;&#12398;&#22580;&#12391;&#24453;&#12385;&#12414;&#12377;&#12290;</p></div></div><div class="top"><p class="src"><a id="v:oneway" class="def">oneway</a> &#8759; a &#8594; <a href="Core-World.html#t:Mail">Mail</a> a b <a href="#v:oneway" class="selflink">#</a></p><div class="doc"><p>&#36820;&#20107;&#12364;&#26469;&#12390;&#12418;&#20309;&#12418;&#12375;&#12394;&#12356;&#12479;&#12452;&#12503;&#12398;&#12513;&#12540;&#12523;&#12434;&#20316;&#12426;&#12414;&#12377;&#12290;&#12381;&#12398;&#12414;&#12414;<code><a href="Haste-Concurrent.html#v:-33-">!</a></code>&#12391;&#36865;&#12426;&#12414;&#12375;&#12423;&#12358;&#12290;</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>